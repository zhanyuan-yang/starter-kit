(function(t,n){"object"===typeof exports&&"undefined"!==typeof module?n(exports,require("react")):"function"===typeof define&&define.amd?define(["exports","react"],n):(t="undefined"!==typeof globalThis?globalThis:t||self,n((t.casl=t.casl||{},t.casl.react={}),t.React))})(this,(function(t,n){"use strict";function r(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var i=r(n);function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}function u(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}function o(){o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i))t[i]=r[i]}return t};return o.apply(this,arguments)}function f(t,n){t.prototype=Object.create(n.prototype);t.prototype.constructor=t;c(t,n)}function c(t,n){c=Object.setPrototypeOf||function t(n,r){n.__proto__=r;return n};return c(t,n)}var s=function t(){};var a=n.Fragment?function(t){if(!t)return null;return t.length>1?n.createElement.apply(void 0,[n.Fragment,null].concat(t)):n.Children.only(t)}:n.Children.only;var l=function(t){f(n,t);function n(){var n;for(var r=arguments.length,i=new Array(r),e=0;e<r;e++)i[e]=arguments[e];n=t.call.apply(t,[this].concat(i))||this;n.t=false;n.i=null;n.u=s;return n}var r=n.prototype;r.componentWillUnmount=function t(){this.u()};r.o=function _connectToAbility(t){var n=this;if(t===this.i)return;this.u();this.i=null;if(t){this.i=t;this.u=t.on("updated",(function(){return n.forceUpdate()}))}};r.l=function t(){var n=this.props;var r=n.of||n.a||n.an||n.this||n.on;var i=n.not?"cannot":"can";return n.ability[i](n.I||n.do,r,n.field)};r.render=function t(){this.o(this.props.ability);this.t=this.l();return this.props.passThrough||this.t?this.h():null};r.h=function t(){var n=this.props,r=n.children,i=n.ability;var e="function"===typeof r?r(this.t,i):r;return a(e)};u(n,[{key:"allowed",get:function t(){return this.t}}]);return n}(n.PureComponent);function h(t){var n,r;return r=n=function(t){f(n,t);function n(){return t.apply(this,arguments)||this}return n}(l),n.defaultProps={ability:t},r}function v(t){return function(r){return n.createElement(t,null,(function(t){return n.createElement(l,o({ability:t},r))}))}}function useAbility(t){if("production"!==process.env.NODE_ENV&&"function"!==typeof i["default"].useContext)throw new Error("You must use React >= 16.8 in order to use useAbility()");var n=i["default"].useContext(t);var r=i["default"].useState(),e=r[0],u=r[1];i["default"].useEffect((function(){return n.on("updated",(function(t){if(t.rules!==e)u(t.rules)}))}),[]);return n}t.Can=l;t.createCanBoundTo=h;t.createContextualCan=v;t.useAbility=useAbility;Object.defineProperty(t,"__esModule",{value:true})}));
//# sourceMappingURL=index.js.map
