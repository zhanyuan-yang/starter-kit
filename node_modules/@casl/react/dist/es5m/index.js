import t,{Fragment as n,createElement as r,Children as i,PureComponent as u}from"react";function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}function o(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}function f(){f=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i))t[i]=r[i]}return t};return f.apply(this,arguments)}function c(t,n){t.prototype=Object.create(n.prototype);t.prototype.constructor=t;a(t,n)}function a(t,n){a=Object.setPrototypeOf||function t(n,r){n.__proto__=r;return n};return a(t,n)}var s=function t(){};var h=n?function(t){if(!t)return null;return t.length>1?r.apply(void 0,[n,null].concat(t)):i.only(t)}:i.only;var l=function(t){c(n,t);function n(){var n;for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];n=t.call.apply(t,[this].concat(i))||this;n.t=false;n.i=null;n.u=s;return n}var r=n.prototype;r.componentWillUnmount=function t(){this.u()};r.o=function _connectToAbility(t){var n=this;if(t===this.i)return;this.u();this.i=null;if(t){this.i=t;this.u=t.on("updated",(function(){return n.forceUpdate()}))}};r.h=function t(){var n=this.props;var r=n.of||n.a||n.an||n.this||n.on;var i=n.not?"cannot":"can";return n.ability[i](n.I||n.do,r,n.field)};r.render=function t(){this.o(this.props.ability);this.t=this.h();return this.props.passThrough||this.t?this.l():null};r.l=function t(){var n=this.props,r=n.children,i=n.ability;var u="function"===typeof r?r(this.t,i):r;return h(u)};o(n,[{key:"allowed",get:function t(){return this.t}}]);return n}(u);function v(t){var n,r;return r=n=function(t){c(n,t);function n(){return t.apply(this,arguments)||this}return n}(l),n.defaultProps={ability:t},r}function b(t){return function(n){return r(t,null,(function(t){return r(l,f({ability:t},n))}))}}function useAbility(n){if("production"!==process.env.NODE_ENV&&"function"!==typeof t.useContext)throw new Error("You must use React >= 16.8 in order to use useAbility()");var r=t.useContext(n);var i=t.useState(),u=i[0],e=i[1];t.useEffect((function(){return r.on("updated",(function(t){if(t.rules!==u)e(t.rules)}))}),[]);return r}export{l as Can,v as createCanBoundTo,b as createContextualCan,useAbility};
//# sourceMappingURL=index.js.map
